ToDo
*   Wrapper Generation: Avoid duplicates
*   Improve emulation
    -   any ideas for implementing barriers?
